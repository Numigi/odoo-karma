<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="KarmaWidget">
        <div class="o_karma_widget">
            <t t-foreach="widget.karmas" t-as="karma">
                <div class="o_karma_widget__item" t-att-karma="karma.id" t-att-title="karma.description || ''">
                    <div class="o_karma_widget__box">
                        <div class="o_karma_widget__box__top">
                            <div class="o_karma_widget__box__top-left">
                                <t t-call="KarmaNumberEvaluatedLines"/>
                            </div>
                            <div class="o_karma_widget__box__top-right"/>
                        </div>
                        <div class="o_karma_widget__box__middle">
                            <div class="o_karma_widget__box__middle-left"/>
                            <div class="o_karma_widget__box__middle-center">
                                <t t-call="KarmaWidgetScore"/>
                            </div>
                            <div class="o_karma_widget__box__middle-right">
                                <t t-call="KarmaWidgetRefresh"/>
                            </div>
                        </div>
                        <div class="o_karma_widget__box__bottom">
                            <div class="o_karma_widget__box__bottom-left">
                                <t t-call="KarmaWidgetLabel"/>
                            </div>
                            <div class="o_karma_widget__box__bottom-right">
                                <t t-call="KarmaWidgetHistory"/>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </t>
        </div>
    </t>

    <t t-name="KarmaWidgetLabel">
        <div class="o_karma_widget__label">
            <t t-raw="karma.label"/>
        </div>
    </t>

    <t t-name="KarmaWidgetScore">
        <div class="o_karma_widget__score">
            <a><t t-if="karma.score" t-raw="karma.score.score"/></a>
        </div>
    </t>

    <t t-name="KarmaWidgetHistory">
        <div class="o_karma_widget__history">
            <a><i class="fa fa-history"></i></a>
        </div>
    </t>

    <t t-name="KarmaWidgetRefresh">
        <div class="o_karma_widget__refresh" t-if="karma.authorize_anticipate_computation">
            <a><i class="fa fa-refresh"></i></a>
        </div>
    </t>

    <t t-name="KarmaNumberEvaluatedLines">
        <div class="o_karma_widget__evaluated_lines" t-if="karma.score">
            <t t-raw="karma.score.number_evaluated_lines"/>/<t t-raw="karma.score.total_number_lines"/>
        </div>
    </t>

</templates>
